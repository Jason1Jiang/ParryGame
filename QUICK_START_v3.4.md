# 快速开始 v3.4 - 多重反击连击关联系统

## 更新日期
2025-12-18

## 新功能概述

多重反击次数现在与连击数关联！连击越高，多重反击能击杀的敌人越多。

### 连击对应表
```
0-2 连击   → 2次反击
3-4 连击   → 3次反击
5-9 连击   → 4次反击
10-14连击  → 5次反击
15-19连击  → 6次反击
20-29连击  → 7次反击
30-39连击  → 8次反击
40-49连击  → 9次反击
50+连击    → 10次反击（上限）
```

---

## 快速测试

### 1. 启动游戏
```bash
# Windows
双击 start.bat

# 或使用 Python
python -m http.server 8000

# 或使用 Node.js
npx http-server -p 8000
```

### 2. 访问游戏
打开浏览器访问：`http://localhost:8000`

### 3. 测试步骤

#### 测试低连击（0-9）
1. 开始游戏
2. 击杀1-2个敌人（保持0-2连击）
3. 快速按下格挡键（在150ms内）并成功格挡
4. 观察多重反击击杀的敌人数量
5. **预期**：击杀2个敌人

#### 测试中连击（10-29）
1. 维持10连击
2. 触发多重反击
3. **预期**：击杀5个敌人

#### 测试高连击（30+）
1. 维持30连击
2. 触发多重反击
3. **预期**：击杀8个敌人

---

## 如何触发多重反击

### 方法
在**按下格挡键的极短时间内（150ms）**成功格挡敌人攻击。

### 技巧
1. **预判攻击**：看到敌人即将攻击时
2. **快速按键**：迅速按下空格键
3. **立即格挡**：在按键后立即格挡成功
4. **时间窗口**：按键到格挡成功的时间要小于150ms

### 视觉反馈
- 紫色闪光
- 强烈震动
- 极慢时间（0.05倍速）
- 连续瞬移斩击多个敌人

---

## 配置调整

### 如果觉得太强
编辑 `config.json`，找到 `visual.multiCounter.comboScaling`：

```json
// 降低上限
"counts": [2, 3, 4, 5, 5, 6, 6, 7, 7]

// 或提高阈值
"thresholds": [0, 5, 10, 15, 25, 35, 50, 70, 100]
```

### 如果觉得太弱
```json
// 提高上限
"counts": [3, 4, 5, 6, 7, 8, 10, 12, 15]

// 或降低阈值
"thresholds": [0, 2, 4, 7, 10, 15, 20, 30, 40]
```

### 禁用功能
```json
"comboScaling": {
  "enabled": false
}
```

---

## 调试技巧

### 查看当前多重反击次数
按 F12 打开控制台，输入：
```javascript
getMultiCounterLimit()
```

### 查看当前连击数
```javascript
comboCount
```

### 手动设置连击数（测试用）
```javascript
comboCount = 50  // 设置为50连击
```

### 触发多重反击（测试用）
```javascript
triggerMultiCounter()
```

---

## 常见问题

### Q: 多重反击次数没有变化？
**A**: 
1. 按 Ctrl+F5 强制刷新浏览器
2. 检查 config.json 是否正确
3. 确认 `comboScaling.enabled` 为 `true`

### Q: 连击数正确但次数不对？
**A**: 
1. 检查 `thresholds` 和 `counts` 数组
2. 确保数组长度相同
3. 确保 `thresholds` 是升序排列

### Q: 游戏太简单/太难？
**A**: 
参考上面的"配置调整"部分，调整参数。

---

## 详细文档

### 设计文档
- [MULTI_COUNTER_OPTIMIZATION_v3.4.md](docs/gameplay/MULTI_COUNTER_OPTIMIZATION_v3.4.md) - 完整设计文档

### 实现文档
- [MULTI_COUNTER_IMPLEMENTATION_v3.4.md](MULTI_COUNTER_IMPLEMENTATION_v3.4.md) - 实现总结

### 测试文档
- [MULTI_COUNTER_TEST_v3.4.md](docs/gameplay/MULTI_COUNTER_TEST_v3.4.md) - 详细测试指南

### 更新日志
- [CHANGELOG_v3.4.md](CHANGELOG_v3.4.md) - 版本更新日志

---

## 预期效果

### 游戏体验
- 🎮 连击奖励更明显
- 🔥 高连击更有成就感
- ⚡ 多重反击更震撼
- 🎯 正向反馈循环更强

### 玩家反馈（预期）
- "连击越高越爽！"
- "10连击后的多重反击太震撼了！"
- "终于有理由维持高连击了！"

---

**版本**: v3.4  
**更新时间**: 2025-12-18  
**状态**: ✅ 已完成

开始测试吧！🚀
