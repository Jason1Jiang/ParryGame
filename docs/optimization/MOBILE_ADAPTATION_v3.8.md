# æ‰‹æœºç«¯é€‚é…ä¼˜åŒ– v3.8 - è®¾è®¡æ–‡æ¡£

## æ›´æ–°æ—¥æœŸ
2024-12-19

## åŠŸèƒ½æ¦‚è¿°

ä¸ºæ¸¸æˆæ·»åŠ æ‰‹æœºç«¯æ”¯æŒï¼Œè®©ç©å®¶å¯ä»¥åœ¨ç§»åŠ¨è®¾å¤‡ä¸Šæµç•…æ¸¸ç©ã€‚æ ¸å¿ƒè®¾è®¡ç†å¿µæ˜¯**æç®€æ“ä½œ**å’Œ**è‡ªé€‚åº”å¸ƒå±€**ã€‚

### æ ¸å¿ƒç›®æ ‡
1. **è§¦å±æ ¼æŒ¡** - ç‚¹å‡»å±å¹•è§¦å‘æ ¼æŒ¡
2. **ç¦ç”¨ç§»åŠ¨** - ç©å®¶æ— æ³•ç§»åŠ¨ï¼Œä½†ä¿ç•™åå‡»ç¬ç§»æœºåˆ¶
3. **å“åº”å¼å¸ƒå±€** - é€‚é…ä¸åŒå±å¹•å°ºå¯¸ï¼ˆå«æ¨ªå±ï¼‰
4. **å±å†…åˆ·æ€ª** - æ•Œäººåªåœ¨å±å¹•å†…åˆ·æ–°
5. **è§¦æ‘¸ä¼˜åŒ–** - é˜²æ­¢ç¼©æ”¾ã€æ»šåŠ¨ç­‰é»˜è®¤è¡Œä¸º

---

## è®¾è®¡æ–¹æ¡ˆï¼šçº¯æ ¼æŒ¡æ¨¡å¼ â­â­â­â­â­

### æ“ä½œæ–¹å¼
```
ç§»åŠ¨ï¼šç¦ç”¨ï¼ˆæ— æ³•ä¸»åŠ¨ç§»åŠ¨ï¼‰
æ ¼æŒ¡ï¼šç‚¹å‡»å±å¹•ä»»æ„ä½ç½®
åå‡»ï¼šæ ¼æŒ¡æˆåŠŸåè‡ªåŠ¨ç¬ç§»åå‡»ï¼ˆä¸æ¡Œé¢ç«¯ç›¸åŒï¼‰
```

### æ ¸å¿ƒç†å¿µ
**"çº¯æ ¼æŒ¡æ¨¡å¼"** - ç©å®¶æ— æ³•ä¸»åŠ¨ç§»åŠ¨ï¼Œåªèƒ½ä¾é ç²¾å‡†çš„æ ¼æŒ¡æ—¶æœºå’Œåå‡»ç¬ç§»æ¥æ”¹å˜ä½ç½®ï¼Œå‡»è´¥æ•Œäººã€‚

### ä¼˜ç‚¹
- âœ… **æ“ä½œæç®€** - å•æ‰‹ç‚¹å‡»å³å¯ï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯
- âœ… **ä¸“æ³¨æ ¸å¿ƒ** - 100% ä¸“æ³¨äºæ ¼æŒ¡æ—¶æœºåˆ¤æ–­
- âœ… **æŒ‘æˆ˜æ€§é«˜** - æ— æ³•èº²é¿ï¼Œå¿…é¡»ç²¾å‡†æ ¼æŒ¡
- âœ… **æ˜“äºå®ç°** - æ— éœ€ AI æˆ–è™šæ‹Ÿæ‘‡æ†
- âœ… **æ€§èƒ½å‹å¥½** - å‡å°‘è®¡ç®—é‡
- âœ… **ç‹¬ç‰¹ä½“éªŒ** - ä¸ PC ç‰ˆå½¢æˆå·®å¼‚åŒ–ç©æ³•

### ç©æ³•ç‰¹ç‚¹
1. **é«˜é£é™©é«˜å›æŠ¥** - æ— æ³•ç§»åŠ¨æ„å‘³ç€å¿…é¡»æ ¼æŒ¡ï¼Œå¤±è¯¯å³æ­»äº¡
2. **èŠ‚å¥æ„Ÿå¼º** - æ•Œäººå›´ç»•ç©å®¶è¿›æ”»ï¼Œå½¢æˆç‹¬ç‰¹çš„èŠ‚å¥
3. **æŠ€å·§å¯¼å‘** - å®Œç¾æ ¼æŒ¡å’Œå¤šé‡åå‡»å˜å¾—æ›´åŠ é‡è¦
4. **ç¢ç‰‡æ—¶é—´** - é€‚åˆçŸ­æ—¶é—´å¿«é€Ÿæ¸¸ç©

---

## è¯¦ç»†è®¾è®¡

### 1. è®¾å¤‡æ£€æµ‹

#### æ£€æµ‹ç§»åŠ¨è®¾å¤‡
```javascript
function isMobileDevice() {
    // æ–¹æ³•1ï¼šæ£€æµ‹è§¦æ‘¸æ”¯æŒ
    const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;
    
    // æ–¹æ³•2ï¼šæ£€æµ‹å±å¹•å°ºå¯¸
    const isSmallScreen = window.innerWidth <= 768;
    
    // æ–¹æ³•3ï¼šæ£€æµ‹ User Agent
    const mobileUA = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
    
    return hasTouch && (isSmallScreen || mobileUA);
}
```

#### è‡ªåŠ¨åˆ‡æ¢æ¨¡å¼
```javascript
// æ¸¸æˆå¯åŠ¨æ—¶æ£€æµ‹
let isMobile = false;

function init() {
    isMobile = isMobileDevice();
    
    if (isMobile) {
        enableMobileMode();
    } else {
        enableDesktopMode();
    }
}

function enableMobileMode() {
    console.log('Mobile mode enabled');
    // ç¦ç”¨é”®ç›˜ç§»åŠ¨
    // å¯ç”¨è§¦å±æ ¼æŒ¡
    // å›ºå®šç©å®¶ä½ç½®
    // åº”ç”¨æ€§èƒ½ä¼˜åŒ–
}

function enableDesktopMode() {
    console.log('Desktop mode enabled');
    // å¯ç”¨é”®ç›˜ç§»åŠ¨
    // å¯ç”¨é”®ç›˜/é¼ æ ‡æ ¼æŒ¡
}
```

---

### 2. ç¦ç”¨ç©å®¶ç§»åŠ¨

#### ç¦ç”¨ç§»åŠ¨è¾“å…¥
```javascript
function updatePlayer() {
    // åå‡»åŠ¨ç”»ï¼ˆç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯é€šç”¨ï¼‰
    if (player.counterAttacking) {
        // ... åå‡»ç¬ç§»é€»è¾‘ï¼ˆä¿æŒä¸å˜ï¼‰
        return;
    }
    
    // ç§»åŠ¨ç«¯ï¼šç¦ç”¨ç§»åŠ¨è¾“å…¥
    if (isMobile) {
        // ä¸å¤„ç† WASD ç§»åŠ¨è¾“å…¥
        // ç©å®¶ä½ç½®åªèƒ½é€šè¿‡åå‡»ç¬ç§»æ”¹å˜
    } else {
        // æ¡Œé¢ç«¯ï¼šæ­£å¸¸ç§»åŠ¨é€»è¾‘
        let dx = 0, dy = 0;
        if (keys['w']) dy -= 1;
        if (keys['s']) dy += 1;
        if (keys['a']) dx -= 1;
        if (keys['d']) dx += 1;
        
        if (dx !== 0 || dy !== 0) {
            const len = Math.sqrt(dx * dx + dy * dy);
            dx /= len;
            dy /= len;
            player.x += dx * CONFIG.player.speed;
            player.y += dy * CONFIG.player.speed;
            
            // è¾¹ç•Œé™åˆ¶
            player.x = Math.max(player.radius, Math.min(CONFIG.canvas.width - player.radius, player.x));
            player.y = Math.max(player.radius, Math.min(CONFIG.canvas.height - player.radius, player.y));
            
            disturbParticles(player.x, player.y, CONFIG.effects.movementDisturbRadius, CONFIG.effects.movementDisturbForce);
        }
    }
    
    // æ ¼æŒ¡é€»è¾‘ï¼ˆç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯é€šç”¨ï¼‰
    player.blocking = keys[' '] && energy > 0;
}
```

#### åˆå§‹åŒ–ç©å®¶ä½ç½®
```javascript
function startGame() {
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
    
    // åˆå§‹åŒ–ç©å®¶ï¼ˆç§»åŠ¨ç«¯åˆå§‹åœ¨ä¸­å¿ƒï¼Œä½†å¯é€šè¿‡åå‡»ç¬ç§»æ”¹å˜ä½ç½®ï¼‰
    player = {
        x: CONFIG.canvas.width / 2,
        y: CONFIG.canvas.height / 2,
        radius: CONFIG.player.radius,
        blocking: false,
        counterAttacking: false,
        counterTarget: null,
        counterProgress: 0
    };
    
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
}
```

**å…³é”®ç‚¹**ï¼š
- âœ… ç©å®¶åˆå§‹åœ¨ä¸­å¿ƒ
- âœ… ç¦ç”¨ WASD ç§»åŠ¨è¾“å…¥
- âœ… ä¿ç•™åå‡»ç¬ç§»æœºåˆ¶ï¼ˆä¸æ¡Œé¢ç«¯ç›¸åŒï¼‰
- âœ… ç©å®¶ä½ç½®ä¼šéšç€åå‡»è€Œæ”¹å˜

---

### 3. è§¦å±æ“ä½œ

#### æ ¼æŒ¡æ§åˆ¶
```javascript
// è§¦æ‘¸å¼€å§‹ = æ ¼æŒ¡å¼€å§‹
canvas.addEventListener('touchstart', (e) => {
    e.preventDefault();
    keys[' '] = true;  // æ¨¡æ‹Ÿç©ºæ ¼é”®
    
    // è§†è§‰åé¦ˆ
    showTouchFeedback(e.touches[0].clientX, e.touches[0].clientY);
});

// è§¦æ‘¸ç»“æŸ = æ ¼æŒ¡ç»“æŸ
canvas.addEventListener('touchend', (e) => {
    e.preventDefault();
    keys[' '] = false;
});

// è§¦æ‘¸ç§»åŠ¨æ—¶ä¿æŒæ ¼æŒ¡
canvas.addEventListener('touchmove', (e) => {
    e.preventDefault();
    // ä¿æŒæ ¼æŒ¡çŠ¶æ€
});
```

#### è§¦æ‘¸åé¦ˆæ•ˆæœ
```javascript
function showTouchFeedback(x, y) {
    // åœ¨è§¦æ‘¸ä½ç½®æ˜¾ç¤ºæ¶Ÿæ¼ªæ•ˆæœ
    const ripple = document.createElement('div');
    ripple.className = 'touch-ripple';
    ripple.style.left = x + 'px';
    ripple.style.top = y + 'px';
    document.body.appendChild(ripple);
    
    // åŠ¨ç”»ç»“æŸåç§»é™¤
    setTimeout(() => ripple.remove(), 600);
}
```

```css
.touch-ripple {
    position: fixed;
    width: 100px;
    height: 100px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(0, 204, 255, 0.5), transparent);
    transform: translate(-50%, -50%) scale(0);
    animation: ripple 0.6s ease-out;
    pointer-events: none;
    z-index: 9999;
}

@keyframes ripple {
    to {
        transform: translate(-50%, -50%) scale(2);
        opacity: 0;
    }
}
```

---

### 4. å“åº”å¼å¸ƒå±€

#### Viewport è®¾ç½®
```html
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
```

#### ç”»å¸ƒè‡ªé€‚åº”
```javascript
function resizeCanvas() {
    const container = document.body;
    const containerWidth = container.clientWidth;
    const containerHeight = container.clientHeight;
    
    // è®¡ç®—åˆé€‚çš„ç”»å¸ƒå°ºå¯¸
    let canvasWidth, canvasHeight;
    
    if (isMobileDevice()) {
        // ç§»åŠ¨ç«¯ï¼šå…¨å±æ˜¾ç¤º
        canvasWidth = containerWidth;
        canvasHeight = containerHeight;
        
        // æ›´æ–°é…ç½®
        CONFIG.canvas.width = canvasWidth;
        CONFIG.canvas.height = canvasHeight;
    } else {
        // æ¡Œé¢ç«¯ï¼šå›ºå®šå°ºå¯¸
        canvasWidth = CONFIG.canvas.width;
        canvasHeight = CONFIG.canvas.height;
    }
    
    // è®¾ç½®ç”»å¸ƒå°ºå¯¸
    canvas.width = canvasWidth;
    canvas.height = canvasHeight;
    
    // æ›´æ–°æ ·å¼
    canvas.style.width = canvasWidth + 'px';
    canvas.style.height = canvasHeight + 'px';
}

// ç›‘å¬çª—å£å¤§å°å˜åŒ–
window.addEventListener('resize', resizeCanvas);

// ç›‘å¬å±å¹•æ–¹å‘å˜åŒ–
window.addEventListener('orientationchange', () => {
    setTimeout(resizeCanvas, 100);
});
```

#### æ¨ªå±æ”¯æŒ
```css
/* æ¨ªå±æ ·å¼ */
@media (orientation: landscape) and (max-height: 500px) {
    /* æ¨ªå±æ—¶è°ƒæ•´ UI å¸ƒå±€ */
    #ui {
        top: 10px !important;
        font-size: 14px !important;
    }
    
    #controls {
        bottom: 10px !important;
        font-size: 12px !important;
    }
    
    #mobileHint {
        bottom: 60px !important;
        font-size: 16px !important;
    }
}
```

#### UI å…ƒç´ è‡ªé€‚åº”
```css
/* ç§»åŠ¨ç«¯æ ·å¼ */
@media (max-width: 768px) {
    /* å­—ä½“ç¼©æ”¾ */
    body {
        font-size: 14px;
    }
    
    h1 {
        font-size: 36px !important;
    }
    
    h2 {
        font-size: 18px !important;
    }
    
    /* æŒ‰é’®ç¼©æ”¾ */
    button {
        font-size: 16px !important;
        padding: 12px 30px !important;
        min-width: 120px;
    }
    
    /* UI é¢æ¿ç¼©æ”¾ */
    #ui {
        font-size: 16px !important;
        padding: 10px !important;
    }
    
    /* èƒ½é‡æ¡ç¼©æ”¾ */
    #energyBar {
        height: 15px !important;
    }
    
    /* æ¸¸æˆç»“æŸç•Œé¢ */
    #gameOver {
        padding: 30px !important;
        max-width: 90% !important;
    }
    
    /* æ’è¡Œæ¦œ */
    #leaderboardScreen {
        padding: 20px !important;
        max-width: 95% !important;
    }
    
    /* æ•™ç¨‹ç•Œé¢ */
    .tutorial-content {
        padding: 30px !important;
        width: 90% !important;
    }
    
    /* éšè—æ¡Œé¢ç«¯æç¤º */
    .desktop-only {
        display: none !important;
    }
    
    /* æ˜¾ç¤ºç§»åŠ¨ç«¯æç¤º */
    .mobile-only {
        display: block !important;
    }
}

/* æ¡Œé¢ç«¯æ ·å¼ */
@media (min-width: 769px) {
    .mobile-only {
        display: none !important;
    }
}
```

---

### 5. æ•Œäººåˆ·æ–°ä¼˜åŒ–

#### å±å†…åˆ·æ–°ï¼ˆå…³é”®ï¼‰
**ç§»åŠ¨ç«¯å¿…é¡»ç¡®ä¿æ•Œäººåªåœ¨å±å¹•å†…åˆ·æ–°**ï¼Œé¿å…æ•Œäººåœ¨å±å¹•å¤–æ”»å‡»ç©å®¶ï¼š

```javascript
function createEnemy(type) {
    let x, y;
    
    // ç§»åŠ¨ç«¯ï¼šå¼ºåˆ¶åœ¨å±å¹•å†…åˆ·æ–°
    if (isMobile) {
        // åœ¨å±å¹•å†…éšæœºä½ç½®ç”Ÿæˆï¼Œä¿æŒè¾¹è·
        const margin = 80; // è·ç¦»è¾¹ç¼˜çš„æœ€å°è·ç¦»
        const spawnWidth = CONFIG.canvas.width - margin * 2;
        const spawnHeight = CONFIG.canvas.height - margin * 2;
        const minDistFromPlayer = CONFIG.spawn.minDistanceFromPlayer || 150;
        const minDistBetweenEnemies = CONFIG.spawn.minDistanceBetweenEnemies || 100;
        
        // å°è¯•æ‰¾åˆ°åˆé€‚çš„ä½ç½®ï¼ˆæœ€å¤šå°è¯•30æ¬¡ï¼‰
        let attempts = 0;
        let validPosition = false;
        
        while (attempts < 30 && !validPosition) {
            x = margin + Math.random() * spawnWidth;
            y = margin + Math.random() * spawnHeight;
            
            // æ£€æŸ¥ä¸ç©å®¶çš„è·ç¦»
            const dxPlayer = x - player.x;
            const dyPlayer = y - player.y;
            const distToPlayer = Math.sqrt(dxPlayer * dxPlayer + dyPlayer * dyPlayer);
            
            if (distToPlayer < minDistFromPlayer) {
                attempts++;
                continue;
            }
            
            // æ£€æŸ¥ä¸å…¶ä»–æ•Œäººçš„è·ç¦»
            let tooClose = false;
            for (const enemy of enemies) {
                const dxEnemy = x - enemy.x;
                const dyEnemy = y - enemy.y;
                const distToEnemy = Math.sqrt(dxEnemy * dxEnemy + dyEnemy * dyEnemy);
                
                if (distToEnemy < minDistBetweenEnemies) {
                    tooClose = true;
                    break;
                }
            }
            
            if (!tooClose) {
                validPosition = true;
            }
            attempts++;
        }
        
        // å¦‚æœ30æ¬¡éƒ½æ²¡æ‰¾åˆ°åˆé€‚ä½ç½®ï¼Œä½¿ç”¨æœ€åä¸€æ¬¡çš„ä½ç½®
        if (!validPosition) {
            x = margin + Math.random() * spawnWidth;
            y = margin + Math.random() * spawnHeight;
        }
    } else {
        // æ¡Œé¢ç«¯ï¼šä½¿ç”¨åŸæœ‰é€»è¾‘ï¼ˆå¯ä»¥ä»è¾¹ç¼˜åˆ·æ–°ï¼‰
        if (CONFIG.spawn.spawnInField) {
            // åœºå†…åˆ·æ–°é€»è¾‘
            // ... åŸæœ‰ä»£ç 
        } else {
            // è¾¹ç¼˜åˆ·æ–°é€»è¾‘
            const side = Math.floor(Math.random() * 4);
            switch(side) {
                case 0: x = Math.random() * CONFIG.canvas.width; y = -20; break;
                case 1: x = CONFIG.canvas.width + 20; y = Math.random() * CONFIG.canvas.height; break;
                case 2: x = Math.random() * CONFIG.canvas.width; y = CONFIG.canvas.height + 20; break;
                case 3: x = -20; y = Math.random() * CONFIG.canvas.height; break;
            }
        }
    }
    
    // ... åˆ›å»ºæ•Œäººå¯¹è±¡
}
```

#### æ•Œäººè¡Œä¸ºè°ƒæ•´
ç”±äºç©å®¶æ— æ³•ç§»åŠ¨ï¼Œæ•Œäººè¡Œä¸ºéœ€è¦è°ƒæ•´ä»¥ä¿æŒæ¸¸æˆå¹³è¡¡ï¼š

```javascript
function updateRangedEnemy(enemy, now) {
    // ç§»åŠ¨ç«¯ï¼šè¿œç¨‹æ•Œäººä¿æŒæ›´è¿œè·ç¦»ï¼Œç»™ç©å®¶ååº”æ—¶é—´
    if (isMobile) {
        enemy.keepDistance = CONFIG.enemies.ranged.keepDistance * 1.2; // å¢åŠ 20%è·ç¦»
    }
    
    // ... åŸæœ‰é€»è¾‘
}

function updateMeleeEnemy(enemy, now) {
    // ç§»åŠ¨ç«¯ï¼šè¿‘æˆ˜æ•Œäººæ”»å‡»å‰è­¦å‘Šæ—¶é—´æ›´é•¿
    if (isMobile) {
        enemy.warningTime = CONFIG.enemies.melee.warningTime * 1.3; // å¢åŠ 30%è­¦å‘Šæ—¶é—´
    }
    
    // ... åŸæœ‰é€»è¾‘
}
```

#### åˆ·æ€ªè°ƒæ•´
```javascript
function calculateDynamicSpawnInterval() {
    let interval = CONFIG.spawn.initialInterval;
    
    // ... åŸæœ‰é€»è¾‘
    
    // ç§»åŠ¨ç«¯ï¼šåˆ·æ€ªé—´éš”ç¨å¾®å»¶é•¿
    if (isMobile) {
        interval *= 1.15; // å¢åŠ 15%é—´éš”
    }
    
    return Math.max(minInterval, Math.min(maxInterval, interval));
}
```

---

### 6. ç§»åŠ¨ç«¯ UI å¢å¼º

#### æ·»åŠ æ“ä½œæç¤º
```html
<div id="mobileHint" class="mobile-only" style="display: none;">
    <div class="hint-text">
        ğŸ‘† ç‚¹å‡»å±å¹•æ ¼æŒ¡
    </div>
</div>
```

```css
#mobileHint {
    position: fixed;
    bottom: 100px;
    left: 50%;
    transform: translateX(-50%);
    background: rgba(0, 0, 0, 0.8);
    color: #fff;
    padding: 15px 30px;
    border-radius: 25px;
    font-size: 18px;
    z-index: 1000;
    animation: hintPulse 2s ease-in-out infinite;
}

@keyframes hintPulse {
    0%, 100% { opacity: 0.8; transform: translateX(-50%) scale(1); }
    50% { opacity: 1; transform: translateX(-50%) scale(1.05); }
}
```

#### é¦–æ¬¡è¿›å…¥æç¤º
```javascript
// æ˜¾ç¤ºè§¦æ‘¸æç¤ºï¼ˆé¦–æ¬¡è¿›å…¥æ—¶ï¼‰
function showMobileHint() {
    if (!isMobile) return;
    
    const hint = document.getElementById('mobileHint');
    hint.style.display = 'block';
    
    // 3ç§’åæ·¡å‡º
    setTimeout(() => {
        hint.style.animation = 'fadeOut 0.5s ease-out';
        setTimeout(() => {
            hint.style.display = 'none';
        }, 500);
    }, 3000);
}

// åœ¨æ¸¸æˆå¼€å§‹æ—¶è°ƒç”¨
function startGame() {
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
    
    if (isMobile) {
        showMobileHint();
    }
    
    // ... å…¶ä»–åˆå§‹åŒ–ä»£ç 
}
```

---

### 7. è§¦æ‘¸ä¼˜åŒ–

#### é˜²æ­¢é»˜è®¤è¡Œä¸º
```javascript
// é˜²æ­¢åŒå‡»ç¼©æ”¾
document.addEventListener('dblclick', (e) => {
    e.preventDefault();
}, { passive: false });

// é˜²æ­¢é•¿æŒ‰èœå•
document.addEventListener('contextmenu', (e) => {
    e.preventDefault();
}, { passive: false });

// é˜²æ­¢æ‹–æ‹½
document.addEventListener('touchmove', (e) => {
    if (e.target === canvas) {
        e.preventDefault();
    }
}, { passive: false });
```

---

### 8. é…ç½®å‚æ•°

#### config.json æ–°å¢
```json
"mobile": {
  "enabled": true,
  "autoDetect": true,
  "disableMovement": true,
  "touch": {
    "enabled": true,
    "feedbackEnabled": true,
    "feedbackDuration": 600,
    "preventZoom": true,
    "preventScroll": true
  },
  "spawn": {
    "forceInScreen": true,
    "screenMargin": 80,
    "minDistanceFromPlayer": 150
  },
  "gameplay": {
    "rangedDistanceMultiplier": 1.2,
    "meleeWarningMultiplier": 1.3,
    "spawnIntervalMultiplier": 1.15
  },
  "ui": {
    "showHint": true,
    "hintDuration": 3000,
    "fullscreen": true
  },
  "canvas": {
    "autoResize": true,
    "maintainAspectRatio": false,
    "minWidth": 320,
    "minHeight": 480
  }
}
```

---

### 9. æµ‹è¯•åœºæ™¯

#### æµ‹è¯•1ï¼šè®¾å¤‡æ£€æµ‹
```
æ­¥éª¤ï¼š
1. åœ¨æ‰‹æœºæµè§ˆå™¨æ‰“å¼€æ¸¸æˆ
2. æ£€æŸ¥æ˜¯å¦è‡ªåŠ¨åˆ‡æ¢åˆ°ç§»åŠ¨æ¨¡å¼

é¢„æœŸç»“æœï¼š
âœ… è‡ªåŠ¨æ£€æµ‹ä¸ºç§»åŠ¨è®¾å¤‡
âœ… å¯ç”¨è§¦å±æ“ä½œ
âœ… ç©å®¶å›ºå®šåœ¨ä¸­å¿ƒ
```

#### æµ‹è¯•2ï¼šè§¦å±æ“ä½œ
```
æ­¥éª¤ï¼š
1. ç‚¹å‡»å±å¹•
2. è§‚å¯Ÿæ ¼æŒ¡æ•ˆæœ
3. æ¾å¼€æ‰‹æŒ‡
4. è§‚å¯Ÿæ ¼æŒ¡ç»“æŸ

é¢„æœŸç»“æœï¼š
âœ… ç‚¹å‡»è§¦å‘æ ¼æŒ¡
âœ… æ˜¾ç¤ºè§¦æ‘¸åé¦ˆ
âœ… æ¾å¼€ç»“æŸæ ¼æŒ¡
âœ… ç©å®¶ä½ç½®ä¸å˜
```

#### æµ‹è¯•3ï¼šç©å®¶ç§»åŠ¨å’Œåå‡»
```
æ­¥éª¤ï¼š
1. å¼€å§‹æ¸¸æˆ
2. å°è¯•æ»‘åŠ¨å±å¹•
3. æ ¼æŒ¡æˆåŠŸåè§‚å¯Ÿåå‡»
4. è§‚å¯Ÿç©å®¶ä½ç½®å˜åŒ–

é¢„æœŸç»“æœï¼š
âœ… æ— æ³•ä¸»åŠ¨ç§»åŠ¨
âœ… æ ¼æŒ¡æˆåŠŸåç¬ç§»åå‡»
âœ… ç©å®¶ä½ç½®éšåå‡»æ”¹å˜
âœ… åå‡»æœºåˆ¶ä¸æ¡Œé¢ç«¯ç›¸åŒ
```

#### æµ‹è¯•4ï¼šå“åº”å¼å¸ƒå±€å’Œæ¨ªå±
```
æ­¥éª¤ï¼š
1. åœ¨ä¸åŒå°ºå¯¸è®¾å¤‡æµ‹è¯•
2. æ—‹è½¬å±å¹•åˆ°æ¨ªå±
3. æ£€æŸ¥UIæ˜¾ç¤º
4. æµ‹è¯•æ¨ªå±æ¸¸ç©

é¢„æœŸç»“æœï¼š
âœ… ç”»å¸ƒè‡ªé€‚åº”å±å¹•
âœ… UIå…ƒç´ æ­£ç¡®ç¼©æ”¾
âœ… æ¨ªå±å¸ƒå±€æ­£å¸¸
âœ… æ¨ªå±å¯æ­£å¸¸æ¸¸ç©
```

#### æµ‹è¯•5ï¼šæ€§èƒ½æµ‹è¯•
```
æ­¥éª¤ï¼š
1. åœ¨ä½ç«¯æ‰‹æœºæµ‹è¯•
2. è§‚å¯Ÿå¸§ç‡
3. æ£€æŸ¥å¡é¡¿æƒ…å†µ

é¢„æœŸç»“æœï¼š
âœ… å¸§ç‡ç¨³å®šï¼ˆ>30fpsï¼‰
âœ… æ— æ˜æ˜¾å¡é¡¿
âœ… æ“ä½œå“åº”åŠæ—¶
```

#### æµ‹è¯•6ï¼šæ•Œäººåˆ·æ–°
```
æ­¥éª¤ï¼š
1. å¼€å§‹æ¸¸æˆ
2. è§‚å¯Ÿæ•Œäººåˆ·æ–°ä½ç½®
3. æ£€æŸ¥æ˜¯å¦æœ‰æ•Œäººåœ¨å±å¹•å¤–

é¢„æœŸç»“æœï¼š
âœ… æ‰€æœ‰æ•Œäººåœ¨å±å¹•å†…åˆ·æ–°
âœ… æ•Œäººä¸ä¼šåœ¨å±å¹•å¤–æ”»å‡»
âœ… åˆ·æ–°ä½ç½®åˆ†å¸ƒåˆç†
âœ… ä¸ç©å®¶ä¿æŒæœ€å°è·ç¦»
```

#### æµ‹è¯•7ï¼šæ¸¸æˆå¹³è¡¡
```
æ­¥éª¤ï¼š
1. ç©å‡ å±€æ¸¸æˆ
2. è§‚å¯Ÿéš¾åº¦æ›²çº¿
3. æ£€æŸ¥æ˜¯å¦è¿‡éš¾æˆ–è¿‡ç®€å•

é¢„æœŸç»“æœï¼š
âœ… æ•Œäººè·ç¦»åˆç†
âœ… è­¦å‘Šæ—¶é—´å……è¶³
âœ… åˆ·æ€ªé€Ÿåº¦é€‚ä¸­
âœ… å¯ä»¥å­˜æ´»ä¸€å®šæ—¶é—´
```

---

### 10. å…¼å®¹æ€§

#### æ”¯æŒçš„è®¾å¤‡
```
âœ… iOS 12+ï¼ˆiPhone 6såŠä»¥ä¸Šï¼‰
âœ… Android 8+ï¼ˆä¸»æµæ‰‹æœºï¼‰
âœ… å¹³æ¿è®¾å¤‡ï¼ˆiPadã€Androidå¹³æ¿ï¼‰
```

#### æ”¯æŒçš„æµè§ˆå™¨
```
âœ… Safariï¼ˆiOSï¼‰
âœ… Chromeï¼ˆAndroidï¼‰
âœ… Firefoxï¼ˆAndroidï¼‰
âœ… Edgeï¼ˆAndroidï¼‰
```

#### ä¸æ”¯æŒçš„è®¾å¤‡
```
âŒ åŠŸèƒ½æœº
âŒ ä½ç«¯å®‰å“ï¼ˆ< Android 8ï¼‰
âŒ æ—§ç‰ˆiOSï¼ˆ< iOS 12ï¼‰
```

---

### 11. å®ç°æ­¥éª¤

#### ç¬¬ä¸€é˜¶æ®µï¼šè®¾å¤‡æ£€æµ‹ï¼ˆ30åˆ†é’Ÿï¼‰
1. [ ] å®ç°è®¾å¤‡æ£€æµ‹å‡½æ•° `isMobileDevice()`
2. [ ] æ·»åŠ ç§»åŠ¨/æ¡Œé¢æ¨¡å¼åˆ‡æ¢
3. [ ] æµ‹è¯•æ£€æµ‹å‡†ç¡®æ€§

#### ç¬¬äºŒé˜¶æ®µï¼šç¦ç”¨ç§»åŠ¨ï¼ˆ30åˆ†é’Ÿï¼‰
1. [ ] ä¿®æ”¹ `updatePlayer()` å‡½æ•°
2. [ ] ç§»åŠ¨ç«¯ç¦ç”¨ WASD ç§»åŠ¨è¾“å…¥
3. [ ] ä¿ç•™åå‡»ç¬ç§»æœºåˆ¶
4. [ ] æµ‹è¯•ç©å®¶ç§»åŠ¨å’Œåå‡»

#### ç¬¬ä¸‰é˜¶æ®µï¼šè§¦å±æ“ä½œï¼ˆ1å°æ—¶ï¼‰
1. [ ] æ·»åŠ è§¦æ‘¸äº‹ä»¶ç›‘å¬
2. [ ] å®ç°è§¦æ‘¸åé¦ˆæ•ˆæœ
3. [ ] é˜²æ­¢é»˜è®¤è¡Œä¸ºï¼ˆç¼©æ”¾ã€æ»šåŠ¨ï¼‰
4. [ ] æµ‹è¯•è§¦æ‘¸å“åº”

#### ç¬¬å››é˜¶æ®µï¼šå“åº”å¼å¸ƒå±€ï¼ˆ1.5å°æ—¶ï¼‰
1. [ ] å®ç°ç”»å¸ƒè‡ªé€‚åº”
2. [ ] æ·»åŠ åª’ä½“æŸ¥è¯¢æ ·å¼
3. [ ] è°ƒæ•´UIå…ƒç´ å°ºå¯¸
4. [ ] æµ‹è¯•ä¸åŒå±å¹•å°ºå¯¸

#### ç¬¬äº”é˜¶æ®µï¼šæ•Œäººåˆ·æ–°ä¼˜åŒ–ï¼ˆ1.5å°æ—¶ï¼‰
1. [ ] å®ç°å±å†…åˆ·æ–°é€»è¾‘ï¼ˆå…³é”®ï¼‰
2. [ ] è°ƒæ•´è¿œç¨‹æ•Œäººè·ç¦»
3. [ ] å»¶é•¿è¿‘æˆ˜æ•Œäººè­¦å‘Šæ—¶é—´
4. [ ] è°ƒæ•´åˆ·æ€ªé—´éš”
5. [ ] æµ‹è¯•æ•Œäººåˆ·æ–°ä½ç½®
6. [ ] æµ‹è¯•æ¸¸æˆå¹³è¡¡

#### ç¬¬å…­é˜¶æ®µï¼šUIå¢å¼ºå’Œæ¨ªå±æ”¯æŒï¼ˆ1.5å°æ—¶ï¼‰
1. [ ] æ·»åŠ æ“ä½œæç¤º
2. [ ] æ·»åŠ ç§»åŠ¨ç«¯æ ·å¼
3. [ ] æ·»åŠ æ¨ªå±æ ·å¼
4. [ ] æµ‹è¯•æ¨ªå±å¸ƒå±€
5. [ ] æµ‹è¯•ç”¨æˆ·ä½“éªŒ

#### ç¬¬ä¸ƒé˜¶æ®µï¼šæµ‹è¯•å’Œè°ƒè¯•ï¼ˆ1.5å°æ—¶ï¼‰
1. [ ] åœ¨çœŸæœºæµ‹è¯•
2. [ ] æµ‹è¯•ä¸åŒè®¾å¤‡
3. [ ] æµ‹è¯•ä¸åŒæµè§ˆå™¨
4. [ ] è°ƒæ•´æ¸¸æˆå¹³è¡¡
5. [ ] ä¿®å¤å‘ç°çš„é—®é¢˜

**æ€»è®¡ï¼šçº¦ 7.5 å°æ—¶**

---

## ç”¨æˆ·ä½“éªŒ

### ä¼˜åŠ¿
- âœ… **æ“ä½œæç®€** - å•æ‰‹ç‚¹å‡»å³å¯ï¼Œå®Œç¾é€‚é…ç§»åŠ¨ç«¯
- âœ… **ä¸“æ³¨æ ¸å¿ƒ** - 100% ä¸“æ³¨äºæ ¼æŒ¡æ—¶æœºåˆ¤æ–­
- âœ… **æŒ‘æˆ˜æ€§é«˜** - æ— æ³•èº²é¿ï¼Œå¿…é¡»ç²¾å‡†æ ¼æŒ¡
- âœ… **é€‚åˆç¢ç‰‡æ—¶é—´** - å¿«é€Ÿå¼€å§‹ï¼Œå¿«é€Ÿç»“æŸ
- âœ… **ç‹¬ç‰¹ä½“éªŒ** - ä¸ PC ç‰ˆå½¢æˆå·®å¼‚åŒ–ç©æ³•

### æ³¨æ„äº‹é¡¹
- âš ï¸ **éš¾åº¦è¾ƒé«˜** - æ— æ³•ç§»åŠ¨æ„å‘³ç€å¿…é¡»æ ¼æŒ¡æ‰€æœ‰æ”»å‡»
- âš ï¸ **éœ€è¦é€‚åº”** - ä¸ PC ç‰ˆç©æ³•ä¸åŒï¼Œéœ€è¦æ—¶é—´é€‚åº”
- âš ï¸ **èŠ‚å¥ç´§å¼ ** - æ•Œäººå›´ç»•ç©å®¶è¿›æ”»ï¼ŒèŠ‚å¥è¾ƒå¿«

### å¹³è¡¡è°ƒæ•´
ä¸ºäº†ä¿è¯ç§»åŠ¨ç«¯çš„å¯ç©æ€§ï¼Œåšäº†ä»¥ä¸‹å¹³è¡¡è°ƒæ•´ï¼š
1. **è¿œç¨‹æ•Œäººè·ç¦» +20%** - ç»™ç©å®¶æ›´å¤šååº”æ—¶é—´
2. **è¿‘æˆ˜è­¦å‘Šæ—¶é—´ +30%** - æ›´å®¹æ˜“çœ‹æ¸…æ”»å‡»æ–¹å‘
3. **åˆ·æ€ªé—´éš” +15%** - é™ä½åŒæ—¶é¢å¯¹å¤šä¸ªæ•Œäººçš„å‹åŠ›
4. **ç²’å­æ•ˆæœ -50%** - æå‡æ€§èƒ½ï¼Œå‡å°‘è§†è§‰å¹²æ‰°

---

## åç»­ä¼˜åŒ–æ–¹å‘

### å¯é€‰åŠŸèƒ½
1. **éš¾åº¦é€‰æ‹©** - ç§»åŠ¨ç«¯ä¸“å±éš¾åº¦ï¼ˆæ›´é•¿è­¦å‘Šæ—¶é—´ã€æ›´æ…¢åˆ·æ€ªï¼‰
2. **æ¨ªå±æ”¯æŒ** - ä¼˜åŒ–æ¨ªå±å¸ƒå±€
3. **éœ‡åŠ¨åé¦ˆ** - æ ¼æŒ¡æˆåŠŸæ—¶éœ‡åŠ¨
4. **ç¦»çº¿æ”¯æŒ** - PWA æ”¯æŒ
5. **æˆå°±ç³»ç»Ÿ** - ç§»åŠ¨ç«¯ä¸“å±æˆå°±ï¼ˆå¦‚"ç«™æ¡©å¤§å¸ˆ"ï¼‰

---

## ç›¸å…³æ–‡æ¡£

- [requirement.md](../requirements/requirement.md) - æ¸¸æˆéœ€æ±‚æ–‡æ¡£
- [config.json](../../config.json) - æ¸¸æˆé…ç½®
- [game.js](../../game.js) - æ¸¸æˆä»£ç 

---

## ç¡®è®¤æ¸…å•

è¯·ç¡®è®¤ä»¥ä¸‹å†…å®¹ï¼š

### æ ¸å¿ƒåŠŸèƒ½ï¼ˆå¿…é¡»å®ç°ï¼‰
1. âœ… **ç¦ç”¨ç§»åŠ¨** - ç©å®¶æ— æ³•ä¸»åŠ¨ç§»åŠ¨ï¼Œä¿ç•™åå‡»ç¬ç§»
2. âœ… **è§¦å±æ ¼æŒ¡** - ç‚¹å‡»å±å¹•ä»»æ„ä½ç½®è§¦å‘æ ¼æŒ¡
3. âœ… **å±å†…åˆ·æ€ª** - æ•Œäººåªåœ¨å±å¹•å†…åˆ·æ–°ï¼ˆå…³é”®ï¼‰
4. âœ… **å“åº”å¼å¸ƒå±€** - ç”»å¸ƒè‡ªé€‚åº”å±å¹•å°ºå¯¸
5. âœ… **æ¨ªå±æ”¯æŒ** - ä¼˜åŒ–æ¨ªå±å¸ƒå±€
6. âœ… **è§¦æ‘¸ä¼˜åŒ–** - é˜²æ­¢ç¼©æ”¾ã€æ»šåŠ¨ç­‰é»˜è®¤è¡Œä¸º
7. âœ… **æ•Œäººè°ƒæ•´** - è°ƒæ•´æ•Œäººè¡Œä¸ºä»¥é€‚åº”æ— ç§»åŠ¨ç©å®¶
8. âœ… **UI é€‚é…** - ç§»åŠ¨ç«¯ä¸“å± UI å’Œæç¤º

### å¯é€‰åŠŸèƒ½ï¼ˆåç»­ä¼˜åŒ–ï¼‰
9. â¸ï¸ **éœ‡åŠ¨åé¦ˆ** - æ ¼æŒ¡æˆåŠŸæ—¶éœ‡åŠ¨ï¼Ÿ

### å®ç°ä¼˜å…ˆçº§
- **ç«‹å³å®ç°**ï¼šæ ¸å¿ƒåŠŸèƒ½ï¼ˆ1-8ï¼‰
- **åç»­ä¼˜åŒ–**ï¼šå¯é€‰åŠŸèƒ½ï¼ˆ9ï¼‰

### æµ‹è¯•è®¾å¤‡
- éœ€è¦åœ¨ä»¥ä¸‹è®¾å¤‡æµ‹è¯•ï¼š
  - iOSï¼ˆiPhoneï¼‰
  - Androidï¼ˆä¸»æµæ‰‹æœºï¼‰
  - å¹³æ¿è®¾å¤‡ï¼ˆå¯é€‰ï¼‰

---

**æ–‡æ¡£ç‰ˆæœ¬**: v3.8  
**æœ€åæ›´æ–°**: 2024-12-19  
**çŠ¶æ€**: å¾…ç¡®è®¤ â³

**æ ¸å¿ƒç¡®è®¤ï¼š**
1. âœ… ç©å®¶æ— æ³•ä¸»åŠ¨ç§»åŠ¨ï¼Œä½†ä¿ç•™åå‡»ç¬ç§»æœºåˆ¶ - **å·²ç¡®è®¤**
2. âœ… æ•Œäººåªåœ¨å±å¹•å†…åˆ·æ–°ï¼ˆä¸ä¼šåœ¨å±å¹•å¤–ï¼‰ - **å·²ç¡®è®¤**
3. âœ… æ•Œäººè¡Œä¸ºè°ƒæ•´ï¼ˆè·ç¦»+20%ï¼Œè­¦å‘Š+30%ï¼Œåˆ·æ€ª+15%ï¼‰- **å·²ç¡®è®¤**
4. âœ… æ”¯æŒæ¨ªå± - **å·²ç¡®è®¤**
5. âœ… è§¦æ‘¸ä¼˜åŒ–ï¼ˆé˜²æ­¢ç¼©æ”¾ã€æ»šåŠ¨ï¼‰ - **å·²ç¡®è®¤**
6. âŒ ä¸éœ€è¦ç§»åŠ¨ç«¯ä¸“å±éš¾åº¦ - **å·²ç¡®è®¤**
7. âŒ ä¸éœ€è¦æ€§èƒ½ä¼˜åŒ– - **å·²ç¡®è®¤**
8. âŒ ä¸éœ€è¦æ•™ç¨‹é€‚é… - **å·²ç¡®è®¤**

**æ‰€æœ‰éœ€æ±‚å·²æ˜ç¡®ï¼Œå‡†å¤‡å¼€å§‹å®ç°ä»£ç ï¼** ğŸ“±âœ¨
