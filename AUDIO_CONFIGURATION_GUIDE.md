# éŸ³é¢‘èµ„æºé…ç½®æŒ‡å—

## æ¦‚è¿°

æ¸¸æˆæ”¯æŒä¸¤ç§éŸ³é¢‘æ¨¡å¼ï¼š
1. **ç¨‹åºåŒ–éŸ³æ•ˆ**ï¼ˆé»˜è®¤ï¼‰- ä½¿ç”¨ Web Audio API ç”Ÿæˆçš„ç®€å•éŸ³æ•ˆ
2. **éŸ³é¢‘æ–‡ä»¶**ï¼ˆå¯é€‰ï¼‰- ä½¿ç”¨è‡ªå®šä¹‰çš„éŸ³é¢‘æ–‡ä»¶

---

## é…ç½®ä½ç½®

æ‰€æœ‰éŸ³é¢‘é…ç½®éƒ½åœ¨ `config.json` æ–‡ä»¶çš„ `visual.audio` èŠ‚ç‚¹ä¸­ã€‚

---

## éŸ³æ•ˆé…ç½®

### é…ç½®ç»“æ„

```json
"sounds": {
  "soundName": {
    "enabled": true,        // æ˜¯å¦å¯ç”¨æ­¤éŸ³æ•ˆ
    "frequency": 800,       // ç¨‹åºåŒ–éŸ³æ•ˆçš„é¢‘ç‡ï¼ˆHzï¼‰
    "duration": 0.1,        // ç¨‹åºåŒ–éŸ³æ•ˆçš„æŒç»­æ—¶é—´ï¼ˆç§’ï¼‰
    "file": null            // éŸ³é¢‘æ–‡ä»¶è·¯å¾„ï¼ˆå¯é€‰ï¼‰
  }
}
```

### å¯ç”¨éŸ³æ•ˆåˆ—è¡¨

#### 1. parryï¼ˆæ ¼æŒ¡ï¼‰
```json
"parry": {
  "enabled": true,
  "frequency": 800,
  "duration": 0.1,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šæˆåŠŸæ ¼æŒ¡æ•Œäººæ”»å‡»
- **å»ºè®®éŸ³æ•ˆ**ï¼šé‡‘å±ç¢°æ’å£°ã€ç›¾ç‰Œå£°
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/parry.mp3"`

#### 2. perfectParryï¼ˆå®Œç¾æ ¼æŒ¡ï¼‰
```json
"perfectParry": {
  "enabled": true,
  "frequency": 1200,
  "duration": 0.15,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šåœ¨æ•Œäººæ”»å‡»ç¬é—´æ ¼æŒ¡
- **å»ºè®®éŸ³æ•ˆ**ï¼šæ¸…è„†çš„é‡‘å±å£°ã€èƒ½é‡çˆ†å‘å£°
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/perfect_parry.mp3"`

#### 3. counterï¼ˆåå‡»ï¼‰
```json
"counter": {
  "enabled": true,
  "frequency": 600,
  "duration": 0.2,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šå¼€å§‹åå‡»ç¬ç§»
- **å»ºè®®éŸ³æ•ˆ**ï¼šç¬ç§»å£°ã€å†²åˆºå£°
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/counter.mp3"`

#### 4. slashï¼ˆæ–©å‡»ï¼‰
```json
"slash": {
  "enabled": true,
  "frequency": 400,
  "duration": 0.3,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šåå‡»å‡»ä¸­æ•Œäºº
- **å»ºè®®éŸ³æ•ˆ**ï¼šå‰‘åˆƒæ–©å‡»å£°ã€çˆ†ç‚¸å£°
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/slash.mp3"`

#### 5. killï¼ˆå‡»æ€ï¼‰
```json
"kill": {
  "enabled": true,
  "frequency": 1000,
  "duration": 0.2,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šå‡»æ€æ•Œäºº
- **å»ºè®®éŸ³æ•ˆ**ï¼šå‡»æ€ç¡®è®¤éŸ³ã€å¾—åˆ†éŸ³
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/kill.mp3"`

#### 6. deathï¼ˆç©å®¶æ­»äº¡ï¼‰
```json
"death": {
  "enabled": true,
  "frequency": 200,
  "duration": 0.8,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šç©å®¶æ­»äº¡
- **å»ºè®®éŸ³æ•ˆ**ï¼šä½æ²‰çš„çˆ†ç‚¸å£°ã€å¤±è´¥éŸ³
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/death.mp3"`

#### 7. spawnï¼ˆæ•Œäººç”Ÿæˆï¼‰
```json
"spawn": {
  "enabled": true,
  "frequency": 1200,
  "duration": 0.2,
  "file": null
}
```
- **è§¦å‘æ—¶æœº**ï¼šæ•Œäººç”Ÿæˆ
- **å»ºè®®éŸ³æ•ˆ**ï¼šä¼ é€å£°ã€å‡ºç°å£°
- **æ¨èæ–‡ä»¶**ï¼š`"assets/sounds/spawn.mp3"`

---

## èƒŒæ™¯éŸ³ä¹é…ç½®

### é…ç½®ç»“æ„

```json
"music": {
  "enabled": true,           // æ˜¯å¦å¯ç”¨èƒŒæ™¯éŸ³ä¹
  "volume": 0.3,            // éŸ³ä¹éŸ³é‡ï¼ˆ0.0 - 1.0ï¼‰
  "fadeInDuration": 1000,   // æ·¡å…¥æ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰
  "fadeOutDuration": 1000,  // æ·¡å‡ºæ—¶é•¿ï¼ˆæ¯«ç§’ï¼‰
  "files": {
    "battle": "assets/music/bgm_battle.mp3"  // æˆ˜æ–—éŸ³ä¹æ–‡ä»¶è·¯å¾„
  }
}
```

### å¯ç”¨éŸ³ä¹

#### battleï¼ˆæˆ˜æ–—éŸ³ä¹ï¼‰
- **æ’­æ”¾æ—¶æœº**ï¼šæ¸¸æˆå¼€å§‹æ—¶
- **åœæ­¢æ—¶æœº**ï¼šæ¸¸æˆç»“æŸæ—¶
- **ç‰¹ç‚¹**ï¼šå¾ªç¯æ’­æ”¾ï¼Œå¸¦æ·¡å…¥æ·¡å‡ºæ•ˆæœ
- **æ¨èæ ¼å¼**ï¼šMP3, OGG, WAV
- **æ¨èæ—¶é•¿**ï¼š1-3åˆ†é’Ÿï¼ˆå¾ªç¯ï¼‰

---

## ä½¿ç”¨éŸ³é¢‘æ–‡ä»¶

### æ­¥éª¤1ï¼šå‡†å¤‡éŸ³é¢‘æ–‡ä»¶

1. **åˆ›å»ºéŸ³é¢‘æ–‡ä»¶å¤¹**ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰ï¼š
   ```
   assets/
   â””â”€â”€ sounds/
       â”œâ”€â”€ parry.mp3
       â”œâ”€â”€ perfect_parry.mp3
       â”œâ”€â”€ counter.mp3
       â”œâ”€â”€ slash.mp3
       â”œâ”€â”€ kill.mp3
       â”œâ”€â”€ death.mp3
       â””â”€â”€ spawn.mp3
   ```

2. **éŸ³é¢‘æ–‡ä»¶è¦æ±‚**ï¼š
   - **æ ¼å¼**ï¼šMP3, OGG, WAVï¼ˆæ¨è MP3ï¼‰
   - **é‡‡æ ·ç‡**ï¼š44.1kHz æˆ– 48kHz
   - **æ¯”ç‰¹ç‡**ï¼š128-320 kbps
   - **æ—¶é•¿**ï¼š0.1-1ç§’ï¼ˆéŸ³æ•ˆï¼‰ï¼Œ1-5åˆ†é’Ÿï¼ˆéŸ³ä¹ï¼‰
   - **æ–‡ä»¶å¤§å°**ï¼šå°½é‡å°ï¼ˆ< 100KB éŸ³æ•ˆï¼Œ< 5MB éŸ³ä¹ï¼‰

### æ­¥éª¤2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶

åœ¨ `config.json` ä¸­è®¾ç½®éŸ³é¢‘æ–‡ä»¶è·¯å¾„ï¼š

```json
"sounds": {
  "parry": {
    "enabled": true,
    "frequency": 800,
    "duration": 0.1,
    "file": "assets/sounds/parry.mp3"  // æ·»åŠ æ–‡ä»¶è·¯å¾„
  },
  "perfectParry": {
    "enabled": true,
    "frequency": 1200,
    "duration": 0.15,
    "file": "assets/sounds/perfect_parry.mp3"
  }
  // ... å…¶ä»–éŸ³æ•ˆ
}
```

### æ­¥éª¤3ï¼šæµ‹è¯•

1. åˆ·æ–°é¡µé¢ï¼ˆCtrl + F5ï¼‰
2. å¼€å§‹æ¸¸æˆ
3. è§¦å‘ç›¸åº”åŠ¨ä½œï¼Œæ£€æŸ¥éŸ³æ•ˆæ˜¯å¦æ’­æ”¾

---

## éŸ³é¢‘æ–‡ä»¶ vs ç¨‹åºåŒ–éŸ³æ•ˆ

### ç¨‹åºåŒ–éŸ³æ•ˆï¼ˆé»˜è®¤ï¼‰

**ä¼˜ç‚¹**ï¼š
- âœ… æ— éœ€é¢å¤–æ–‡ä»¶
- âœ… æ–‡ä»¶ä½“ç§¯å°
- âœ… åŠ è½½é€Ÿåº¦å¿«
- âœ… ä¸å ç”¨ç½‘ç»œå¸¦å®½

**ç¼ºç‚¹**ï¼š
- âŒ éŸ³è´¨ç®€å•
- âŒ ç¼ºä¹çœŸå®æ„Ÿ
- âŒ è¡¨ç°åŠ›æœ‰é™

### éŸ³é¢‘æ–‡ä»¶

**ä¼˜ç‚¹**ï¼š
- âœ… éŸ³è´¨é«˜
- âœ… çœŸå®æ„Ÿå¼º
- âœ… è¡¨ç°åŠ›ä¸°å¯Œ
- âœ… å¯ä»¥ä½¿ç”¨ä¸“ä¸šéŸ³æ•ˆ

**ç¼ºç‚¹**ï¼š
- âŒ éœ€è¦é¢å¤–æ–‡ä»¶
- âŒ å¢åŠ æ–‡ä»¶ä½“ç§¯
- âŒ éœ€è¦åŠ è½½æ—¶é—´
- âŒ å ç”¨ç½‘ç»œå¸¦å®½

---

## æ··åˆä½¿ç”¨

ä½ å¯ä»¥æ··åˆä½¿ç”¨ä¸¤ç§æ¨¡å¼ï¼š

```json
"sounds": {
  "parry": {
    "enabled": true,
    "file": "assets/sounds/parry.mp3"  // ä½¿ç”¨éŸ³é¢‘æ–‡ä»¶
  },
  "perfectParry": {
    "enabled": true,
    "frequency": 1200,
    "duration": 0.15,
    "file": null  // ä½¿ç”¨ç¨‹åºåŒ–éŸ³æ•ˆ
  }
}
```

---

## éŸ³é¢‘èµ„æºæ¨è

### å…è´¹éŸ³æ•ˆç½‘ç«™

1. **Freesound** - https://freesound.org/
   - å¤§é‡å…è´¹éŸ³æ•ˆ
   - éœ€è¦æ³¨å†Œ
   - æ³¨æ„è®¸å¯è¯

2. **Zapsplat** - https://www.zapsplat.com/
   - é«˜è´¨é‡éŸ³æ•ˆ
   - å…è´¹ä½¿ç”¨
   - éœ€è¦ç½²å

3. **Mixkit** - https://mixkit.co/free-sound-effects/
   - å…è´¹å•†ç”¨
   - æ— éœ€ç½²å
   - è´¨é‡è¾ƒé«˜

4. **OpenGameArt** - https://opengameart.org/
   - æ¸¸æˆä¸“ç”¨
   - å¼€æºèµ„æº
   - ç¤¾åŒºé©±åŠ¨

### æœç´¢å…³é”®è¯

- **æ ¼æŒ¡**ï¼šsword block, shield block, metal clang, parry
- **å®Œç¾æ ¼æŒ¡**ï¼šperfect block, critical hit, energy burst
- **åå‡»**ï¼šdash, teleport, whoosh, swift
- **æ–©å‡»**ï¼šsword slash, blade cut, sword swing
- **å‡»æ€**ï¼škill confirm, enemy death, explosion
- **æ­»äº¡**ï¼šplayer death, game over, defeat
- **ç”Ÿæˆ**ï¼šspawn, teleport in, appear, materialize

---

## éŸ³é¢‘ä¼˜åŒ–å»ºè®®

### 1. æ–‡ä»¶å¤§å°ä¼˜åŒ–

```bash
# ä½¿ç”¨ FFmpeg å‹ç¼©éŸ³é¢‘
ffmpeg -i input.wav -b:a 128k output.mp3

# è½¬æ¢ä¸º OGGï¼ˆæ›´å°ï¼‰
ffmpeg -i input.wav -c:a libvorbis -q:a 4 output.ogg
```

### 2. é¢„åŠ è½½éŸ³é¢‘

å¦‚æœä½¿ç”¨éŸ³é¢‘æ–‡ä»¶ï¼Œå»ºè®®é¢„åŠ è½½ä»¥é¿å…å»¶è¿Ÿï¼š

```javascript
// åœ¨ initAudio() ä¸­æ·»åŠ 
const soundFiles = [
  'assets/sounds/parry.mp3',
  'assets/sounds/perfect_parry.mp3',
  // ... å…¶ä»–æ–‡ä»¶
];

soundFiles.forEach(file => {
  const audio = new Audio(file);
  audio.preload = 'auto';
});
```

### 3. éŸ³é‡å¹³è¡¡

ç¡®ä¿æ‰€æœ‰éŸ³æ•ˆéŸ³é‡ä¸€è‡´ï¼š
- ä½¿ç”¨éŸ³é¢‘ç¼–è¾‘è½¯ä»¶ï¼ˆå¦‚ Audacityï¼‰
- æ ‡å‡†åŒ–éŸ³é‡åˆ° -3dB åˆ° -6dB
- é¿å…å‰Šæ³¢ï¼ˆclippingï¼‰

---

## æ•…éšœæ’é™¤

### é—®é¢˜1ï¼šéŸ³é¢‘ä¸æ’­æ”¾

**å¯èƒ½åŸå› **ï¼š
- æ–‡ä»¶è·¯å¾„é”™è¯¯
- æ–‡ä»¶æ ¼å¼ä¸æ”¯æŒ
- æµè§ˆå™¨è‡ªåŠ¨æ’­æ”¾ç­–ç•¥

**è§£å†³æ–¹æ³•**ï¼š
1. æ£€æŸ¥æ–‡ä»¶è·¯å¾„æ˜¯å¦æ­£ç¡®
2. ä½¿ç”¨ MP3 æ ¼å¼
3. ç”¨æˆ·éœ€è¦å…ˆä¸é¡µé¢äº¤äº’ï¼ˆç‚¹å‡»æŒ‰é’®ï¼‰

### é—®é¢˜2ï¼šéŸ³é¢‘å»¶è¿Ÿ

**å¯èƒ½åŸå› **ï¼š
- æ–‡ä»¶æœªé¢„åŠ è½½
- æ–‡ä»¶è¿‡å¤§
- ç½‘ç»œå»¶è¿Ÿ

**è§£å†³æ–¹æ³•**ï¼š
1. æ·»åŠ é¢„åŠ è½½
2. å‹ç¼©éŸ³é¢‘æ–‡ä»¶
3. ä½¿ç”¨æœ¬åœ°æ–‡ä»¶

### é—®é¢˜3ï¼šéŸ³é¢‘é‡å 

**å¯èƒ½åŸå› **ï¼š
- éŸ³æ•ˆè§¦å‘è¿‡äºé¢‘ç¹
- éŸ³æ•ˆæŒç»­æ—¶é—´è¿‡é•¿

**è§£å†³æ–¹æ³•**ï¼š
1. ç¼©çŸ­éŸ³æ•ˆæ—¶é•¿
2. æ·»åŠ éŸ³æ•ˆå†·å´æ—¶é—´
3. é™åˆ¶åŒæ—¶æ’­æ”¾æ•°é‡

---

## ç¤ºä¾‹é…ç½®

### å®Œå…¨ä½¿ç”¨éŸ³é¢‘æ–‡ä»¶

```json
"audio": {
  "enabled": true,
  "volume": 0.5,
  "sounds": {
    "parry": {
      "enabled": true,
      "file": "assets/sounds/parry.mp3"
    },
    "perfectParry": {
      "enabled": true,
      "file": "assets/sounds/perfect_parry.mp3"
    },
    "counter": {
      "enabled": true,
      "file": "assets/sounds/counter.mp3"
    },
    "slash": {
      "enabled": true,
      "file": "assets/sounds/slash.mp3"
    },
    "kill": {
      "enabled": true,
      "file": "assets/sounds/kill.mp3"
    },
    "death": {
      "enabled": true,
      "file": "assets/sounds/death.mp3"
    },
    "spawn": {
      "enabled": true,
      "file": "assets/sounds/spawn.mp3"
    }
  },
  "music": {
    "enabled": true,
    "volume": 0.3,
    "fadeInDuration": 1000,
    "fadeOutDuration": 1000,
    "files": {
      "battle": "assets/music/bgm_battle.mp3"
    }
  }
}
```

### æ··åˆæ¨¡å¼

```json
"sounds": {
  "parry": {
    "enabled": true,
    "file": "assets/sounds/parry.mp3"  // ä½¿ç”¨æ–‡ä»¶
  },
  "perfectParry": {
    "enabled": true,
    "frequency": 1200,
    "duration": 0.15,
    "file": null  // ä½¿ç”¨ç¨‹åºåŒ–éŸ³æ•ˆ
  }
}
```

---

## æ–‡ä»¶å¤¹ç»“æ„å»ºè®®

```
ParryGame/
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ sounds/           # éŸ³æ•ˆæ–‡ä»¶
â”‚   â”‚   â”œâ”€â”€ parry.mp3
â”‚   â”‚   â”œâ”€â”€ perfect_parry.mp3
â”‚   â”‚   â”œâ”€â”€ counter.mp3
â”‚   â”‚   â”œâ”€â”€ slash.mp3
â”‚   â”‚   â”œâ”€â”€ kill.mp3
â”‚   â”‚   â”œâ”€â”€ death.mp3
â”‚   â”‚   â””â”€â”€ spawn.mp3
â”‚   â””â”€â”€ music/            # èƒŒæ™¯éŸ³ä¹
â”‚       â””â”€â”€ bgm_battle.mp3
â”œâ”€â”€ config.json           # é…ç½®æ–‡ä»¶
â”œâ”€â”€ game.js              # æ¸¸æˆä»£ç 
â””â”€â”€ index.html           # ä¸»é¡µé¢
```

---

## æ€»ç»“

1. **é»˜è®¤ä½¿ç”¨ç¨‹åºåŒ–éŸ³æ•ˆ**ï¼ˆ`file: null`ï¼‰
2. **æ·»åŠ éŸ³é¢‘æ–‡ä»¶**åˆ° `assets/sounds/` æ–‡ä»¶å¤¹
3. **ä¿®æ”¹é…ç½®**è®¾ç½® `file` è·¯å¾„
4. **åˆ·æ–°é¡µé¢**æµ‹è¯•æ•ˆæœ
5. **ä¼˜åŒ–éŸ³é¢‘**æ–‡ä»¶å¤§å°å’Œè´¨é‡

ç°åœ¨ä½ å¯ä»¥è½»æ¾æ›¿æ¢æ‰€æœ‰éŸ³é¢‘èµ„æºäº†ï¼ğŸµ
